
<!DOCTYPE html>

<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Inscription - Tennis Club de Pimprez</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
<style>
        :root {
            --header-color: #4CAF50;
            --button-color: #4CAF50;
        }
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        .header {
            background-color: var(--header-color);
            color: white;
            padding: 20px 0;
            text-align: center;
            margin-bottom: 30px;
        }
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        .header p {
            font-size: 1.2rem;
            margin: 0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        .section-title {
            color: var(--header-color);
            border-left: 4px solid var(--header-color);
            padding-left: 10px;
            margin-top: 30px;
            margin-bottom: 20px;
        }
        .required-field::after {
            content: " *";
            color: red;
        }
        .btn-primary {
            background-color: var(--button-color);
            border-color: var(--button-color);
        }
        .btn-primary:hover {
            background-color: #3d8b40;
            border-color: #3d8b40;
        }
        .member-navigation {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            text-align: center;
        }
        .footer {
            text-align: center;
            padding: 20px 0;
            color: #666;
            font-size: 0.9rem;
        }
        #confirmation-message {
            display: none;
            background-color: #d4edda;
            color: #155724;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
            text-align: center;
        }
        #confirmation-message h3 {
            color: #155724;
            margin-bottom: 15px;
        }
        .btn-success {
            background-color: var(--button-color);
            border-color: var(--button-color);
        }
    </style>
</head>
<body>
<div class="header">
<img alt="Tennis Club de Pimprez" height="100" src="images/logo.jpg" width="100"/>
<h1 id="club-name">Tennis Club de Pimprez</h1>
<p>Formulaire d'inscription - Saison <span id="season">2025-2026</span></p>
</div>
<div class="container">
<div id="confirmation-message">
<h3>Inscription envoyée avec succès !</h3>
<p>Vos informations ont bien été envoyées à notre équipe. Merci !</p>
<button class="btn btn-success mt-3" id="btn-new-inscription">Faire une nouvelle inscription</button>
</div>
<form id="inscriptionForm">
<h3 class="section-title">Informations personnelles</h3>
<div class="row mb-3">
<div class="col-md-6"><label class="form-label required-field" for="civilite">Civilité</label>
<select class="form-select" id="civilite" name="civilite" required="">
<option value="">Sélectionnez</option>
<option value="M.">M.</option>
<option value="Mme">Mme</option>
<option value="Autre">Autre</option>
</select>
</div>
</div>
<div class="row mb-3">
<div class="col-md-6"><label class="form-label required-field" for="nom">Nom</label>
<input class="form-control" id="nom" name="nom" required="" type="text"/>
</div>
</div>
<div class="row mb-3">
<div class="col-md-6"><label class="form-label required-field" for="prenom">Prénom</label>
<input class="form-control" id="prenom" name="prenom" required="" type="text"/>
</div>
<div class="col-md-6"><label class="form-label required-field" for="date_naissance">Date de naissance</label>
<input class="form-control" id="date_naissance" name="date_naissance" required="" type="date"/>
</div>
</div>
<h3 class="section-title">Coordonnées</h3>
<div class="row mb-3"><div class="col-md-12">
<label class="form-label required-field" for="adresse">Adresse</label>
<input class="form-control" id="adresse" name="adresse" required="" type="text"/>
</div></div>
<div class="row mb-3">
<div class="col-md-6"><label class="form-label required-field" for="code_postal">Code postal</label>
<input class="form-control" id="code_postal" name="code_postal" required="" type="text"/>
</div>
<div class="col-md-6"><label class="form-label required-field" for="ville">Ville</label>
<input class="form-control" id="ville" name="ville" required="" type="text"/>
</div>
</div>
<div class="row mb-3">
<div class="col-md-6"><label class="form-label required-field" for="tel_mobile">Téléphone mobile</label>
<input class="form-control" id="tel_mobile" name="tel_mobile" required="" type="tel"/>
</div>
<div class="col-md-6"><label class="form-label" for="tel_fixe">Téléphone fixe</label>
<input class="form-control" id="tel_fixe" name="tel_fixe" type="tel"/>
</div>
</div>
<div class="row mb-3">
<div class="col-md-6"><label class="form-label required-field" for="email">Email</label>
<input class="form-control" id="email" name="email" required="" type="email"/>
</div>
</div>
<div class="row mt-4">
<div class="col-md-12 text-center">
<button class="btn btn-primary btn-lg" type="submit">Envoyer mon inscription</button>
</div>
</div>
</form>
</div>
<div class="footer"><div class="container">
<p>Tennis Club de Pimprez - Tous droits réservés</p>
</div></div>

<script>
// ✨ Amélioration : conservez les données familiales partagées entre membres (adresse, ville, email...) + bouton Ajouter un membre

const confirmationMessage = document.getElementById("confirmation-message");
confirmationMessage.style.display = "none";

const form = document.getElementById("inscriptionForm");

let coordonneesPartagees = {};
const champsFamille = ["adresse", "code_postal", "ville", "email", "tel_mobile", "tel_fixe"];

window.addEventListener("DOMContentLoaded", () => {
    champsFamille.forEach(champ => {
        const champInput = document.querySelector(`[name='${champ}']`);
        if (champInput && coordonneesPartagees[champ]) {
            champInput.value = coordonneesPartagees[champ];
        }
    });
});

form.addEventListener("submit", function(e) {
    e.preventDefault();

    const formData = new FormData(form);
    const data = Object.fromEntries(formData.entries());

    champsFamille.forEach(champ => {
        coordonneesPartagees[champ] = data[champ] || "";
    });

    fetch("https://usebasin.com/f/28ad0c57c7ea", {
        method: "POST",
        body: formData,
    })
    .then(response => {
        if (response.ok) {
            form.style.display = "none";
            confirmationMessage.style.display = "block";

            if (!document.getElementById("btn-add-member-simple")) {
                const btn = document.createElement("button");
                btn.id = "btn-add-member-simple";
                btn.className = "btn btn-outline-success mt-3";
                btn.textContent = "Ajouter un autre membre de la même famille";
                btn.onclick = () => {
                    confirmationMessage.style.display = "none";
                    form.style.display = "block";
                    form.reset();
                    champsFamille.forEach(champ => {
                        if (coordonneesPartagees[champ]) {
                            const champInput = document.querySelector(`[name='${champ}']`);
                            if (champInput) champInput.value = coordonneesPartagees[champ];
                        }
                    });
                };
                confirmationMessage.appendChild(btn);
            }
        } else {
            alert("Erreur lors de l'envoi du formulaire. Veuillez réessayer.");
        }
    })
    .catch(error => {
        console.error("Erreur réseau:", error);
        alert("Une erreur s'est produite. Veuillez réessayer plus tard.");
    });
});

const btnNewInscription = document.getElementById("btn-new-inscription");
btnNewInscription.addEventListener("click", () => {
    confirmationMessage.style.display = "none";
    form.style.display = "block";
    form.reset();
    champsFamille.forEach(champ => {
        if (coordonneesPartagees[champ]) {
            const champInput = document.querySelector(`[name='${champ}']`);
            if (champInput) champInput.value = coordonneesPartagees[champ];
        }
    });
});
</script></body>
</html>
